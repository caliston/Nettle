/*
 * Nettle specific code headers
 * (C) Nettle developers 2000-2001
 *
 * $Id$
 */

#ifndef NETTLE_H
#define NETTLE_H

#define NETTLE_TELNET      1
#define NETTLE_SSH         2
#define NETTLE_TASKWINDOW  3

#define NETTLE_SESSION_NONE        0
#define NETTLE_SESSION_RESOLVE     1
#define NETTLE_SESSION_CONNECT     2
#define NETTLE_SESSION_CONNECTED   3

#define NETTLE_ESCAPE_NONE         0
#define NETTLE_ESCAPE_ESCAPE       1

#define NETTLE_FLAG_CURSOR        (1<<0)
#define NETTLE_FLAG_NO_INPUT      (1<<1)
#define NETTLE_FLAG_INVERTED      (1<<2)
#define NETTLE_FLAG_PLUS100       (1<<3)
#define NETTLE_FLAG_SELECTED	  (1<<4)

#define NETTLE_OTHER_VT52_MODE	   (1<<0)
#define NETTLE_OTHER_INSERT_MODE   (1<<1)
#define NETTLE_OTHER_KEYLOCK_MODE  (1<<2)
#define NETTLE_OTHER_LINEFEED_MODE (1<<3)
#define NETTLE_OTHER_CURSOR_VIS	   (1<<4)
#define NETTLE_OTHER_ORIGIN_MODE   (1<<5)
#define NETTLE_OTHER_WRAP_MODE	   (1<<6)
#define NETTLE_OTHER_REVERSE_VIDEO (1<<7)
#define NETTLE_OTHER_APPLI_MODE	   (1<<8)

enum nettle_terminal {
  NETTLE_TERMINAL_VT100,
  NETTLE_TERMINAL_VT102,
  NETTLE_TERMINAL_VT220,
  NETTLE_TERMINAL_VT320,
  NETTLE_TERMINAL_VT420,
  NETTLE_TERMINAL_VT510,
  NETTLE_TERMINAL_RXVT,
  NETTLE_TERMINAL_XTERM
};


#define NETTLE_CHSET_G0	0
#define NETTLE_CHSET_G1	1
#define NETTLE_CHSET_G2	2
#define NETTLE_CHSET_G3	3

#define NETTLE_CHSET_GRAPHICS	48
#define NETTLE_CHSET_ALTROMSTD	49
#define NETTLE_CHSET_ALTROMSPC	50
#define NETTLE_CHSET_UK		65
#define NETTLE_CHSET_US		66

/* Maximum length for connection type - telnet, ssh, etc */
#define MESSAGE_MAX_CONNECTION  20

/* Maximum length for terminal type - vt100, vt102, etc */
#define MESSAGE_MAX_TERMINAL    10

/* Maximum length of menu entries */
#define MESSAGE_MAX_MENU        20

struct session_struct;


void start_connection(void);
void write_out_string(struct session_struct *, const char *);
void write_out_strings(struct session_struct *, ...); /* term with NUL ptr */
void write_out_data(struct session_struct *, const char *, int);

void remove_session(struct session_struct *);
void nettle_senddata(struct session_struct *, char *, int);
void reset_terminal(struct session_struct *);

void write_assigned(struct session_struct *, int, char, char, char, char);

char read_assigned_fg(struct session_struct *, int);
char read_assigned_bg(struct session_struct *, int);
char read_assigned_flags(struct session_struct *, int);
char read_assigned_character(struct session_struct *, int);

void write_assigned_flags(struct session_struct *, int, char);
void write_assigned_character(struct session_struct *, int, char);

void resize_terminal(struct session_struct *, int, int, int, bool);
void reopen_and_size_window(struct session_struct *, int, int, int, int);

#endif
