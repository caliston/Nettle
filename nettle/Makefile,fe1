# Acorn / NetLib Makefile for Nettle
# by A. Macfarlane Smith
# (C) Archifishal Software 2001
#
# $Id$

CC = cc
CFLAGS = -c -strict -IC: -INetlib: -fa -apcs 3/26 -throwback -depend !Depend -DFORTIFY #-g

LINK = link
LINKFLAGS = #-d

WIPE = wipe
WIPEFLAGS = ~CFR~V

ASM = objasm
ASMFLAGS = -apcs 3/26

TEMPLATES = !Nettle.Resources.UK.Template3D

OBJS = chardefn.o choices.o globals.o init.o keyboard.o lineedit.o main.o \
       misc.o hotlist.o nettle.o process.o socket.o quit.o seln.o wimp.o \
       zapgen.o fortify.o sockwatch.o messages.o termlist.o url.o wimputil.o

all:	!Nettle.!RunImage

templheadr: templheadr.o
        $(LINK) -o $@ $(LINKFLAGS) $? C:o.stubs

!Nettle.!RunImage:	$(OBJS)
	$(LINK) -o $@ $(LINKFLAGS) $(OBJS) C:o.stubs Netlib:o.NetLib
	squeeze $@

clean:
	$(WIPE) o.* $(WIPEFLAGS)

templ.h: templheadr $(TEMPLATES)
	<Obey$Dir>.templheadr $(TEMPLATES) $@

.SUFFIXES: .o .s .c

.s.o:
	$(ASM) $(ASMFLAGS) $< -o $@

.c.o:
	$(CC) $(CFLAGS) -o $@ $<

o.wimp: templ.h

# Dynamic dependencies:
o.chardefn:	c.chardefn
o.chardefn:	h.generic
o.chardefn:	h.fortify
o.chardefn:	h.ufortify
o.chardefn:	C:h.kernel
o.chardefn:	C:h.swis
o.chardefn:	h.globals
o.chardefn:	h.nettle
o.chardefn:	h.chardefn
o.chardefn:	h.misc
o.globals:	c.globals
o.globals:	h.generic
o.globals:	h.fortify
o.globals:	h.ufortify
o.globals:	C:h.kernel
o.globals:	C:h.swis
o.globals:	h.globals
o.globals:	h.nettle
o.globals:	h.nettle
o.globals:	h.zapredraw
o.keyboard:	c.keyboard
o.keyboard:	h.generic
o.keyboard:	h.fortify
o.keyboard:	h.ufortify
o.keyboard:	C:h.kernel
o.keyboard:	C:h.swis
o.keyboard:	h.globals
o.keyboard:	h.nettle
o.keyboard:	h.keyboard
o.lineedit:	c.lineedit
o.lineedit:	h.generic
o.lineedit:	h.fortify
o.lineedit:	h.ufortify
o.lineedit:	C:h.kernel
o.lineedit:	C:h.swis
o.lineedit:	h.globals
o.lineedit:	h.nettle
o.lineedit:	h.lineedit
o.lineedit:	h.misc
o.lineedit:	h.wimp
o.lineedit:	h.nettle
o.lineedit:	h.wimputil
o.lineedit:	h.generic
o.lineedit:	h.globals
o.lineedit:	h.nettle
o.lineedit:	h.messages
o.lineedit:	h.zapredraw
o.main:	c.main
o.main:	h.generic
o.main:	h.fortify
o.main:	h.ufortify
o.main:	C:h.kernel
o.main:	C:h.swis
o.main:	h.globals
o.main:	h.nettle
o.main:	h.init
o.main:	h.main
o.main:	h.misc
o.main:	h.quit
o.main:	h.sockwatch
o.main:	h.wimp
o.main:	h.nettle
o.misc:	c.misc
o.misc:	h.generic
o.misc:	h.fortify
o.misc:	h.ufortify
o.misc:	C:h.kernel
o.misc:	C:h.swis
o.misc:	h.globals
o.misc:	h.nettle
o.misc:	h.misc
o.process:	c.process
o.process:	h.generic
o.process:	h.fortify
o.process:	h.ufortify
o.process:	C:h.kernel
o.process:	C:h.swis
o.process:	h.globals
o.process:	h.nettle
o.process:	h.graphics
o.process:	h.keyboard
o.process:	h.lineedit
o.process:	h.misc
o.process:	h.nettle
o.process:	h.process
o.process:	h.seln
o.process:	h.wimp
o.process:	h.nettle
o.process:	h.wimputil
o.process:	h.generic
o.process:	h.globals
o.process:	h.nettle
o.process:	h.messages
o.process:	h.zapredraw
o.process:	h.messages
o.socket:	c.socket
o.socket:	h.generic
o.socket:	h.fortify
o.socket:	h.ufortify
o.socket:	C:h.kernel
o.socket:	C:h.swis
o.socket:	h.globals
o.socket:	h.nettle
o.socket:	Netlib:sys.h.types
o.socket:	Netlib:sys.h.byteorder
o.socket:	Netlib:sys.h.errno
o.socket:	Netlib:sys.h.ioctl
o.socket:	Netlib:sys.h.filio
o.socket:	Netlib:sys.h.iocomm
o.socket:	Netlib:sys.h.sockio
o.socket:	Netlib:sys.h.iocomm
o.socket:	Netlib:sys.h.socket
o.socket:	Netlib:sys.h.types
o.socket:	Netlib:netinet.h.in
o.socket:	Netlib:sys.h.types
o.socket:	Netlib:arpa.h.inet
o.socket:	Netlib:netinet.h.in
o.socket:	Netlib:sys.h.types
o.socket:	Netlib:h.netdb
o.socket:	Netlib:sys.h.types
o.socket:	h.sockwatch
o.socket:	h.socket
o.quit:	c.quit
o.quit:	h.generic
o.quit:	h.fortify
o.quit:	h.ufortify
o.quit:	C:h.kernel
o.quit:	C:h.swis
o.quit:	h.globals
o.quit:	h.nettle
o.quit:	h.hotlist
o.quit:	h.init
o.quit:	h.messages
o.quit:	h.misc
o.quit:	h.nettle
o.quit:	h.quit
o.quit:	h.sockwatch
o.quit:	h.termlist
o.quit:	h.wimp
o.quit:	h.nettle
o.seln:	c.seln
o.seln:	h.generic
o.seln:	h.fortify
o.seln:	h.ufortify
o.seln:	C:h.kernel
o.seln:	C:h.swis
o.seln:	h.globals
o.seln:	h.nettle
o.seln:	h.messages
o.seln:	h.misc
o.seln:	h.nettle
o.seln:	h.process
o.seln:	h.seln
o.seln:	h.socket
o.seln:	h.wimp
o.seln:	h.nettle
o.seln:	h.wimputil
o.seln:	h.generic
o.seln:	h.globals
o.seln:	h.nettle
o.seln:	h.messages
o.seln:	h.zapredraw
o.templheadr:	c.templheadr
o.templheadr:	c.templheadr
o.templheadr:	c.templheadr
o.zapgen:	c.zapgen
o.zapgen:	h.generic
o.zapgen:	h.fortify
o.zapgen:	h.ufortify
o.zapgen:	C:h.kernel
o.zapgen:	C:h.swis
o.zapgen:	h.globals
o.zapgen:	h.nettle
o.zapgen:	h.chardefn
o.zapgen:	h.messages
o.zapgen:	h.misc
o.zapgen:	h.nettle
o.zapgen:	h.wimp
o.zapgen:	h.nettle
o.zapgen:	h.wimputil
o.zapgen:	h.generic
o.zapgen:	h.globals
o.zapgen:	h.nettle
o.zapgen:	h.messages
o.zapgen:	h.zapredraw
o.fortify:	c.fortify
o.fortify:	h.ufortify
o.fortify:	h.fortify
o.fortify:	h.ufortify
o.sockwatch:	c.sockwatch
o.sockwatch:	C:h.kernel
o.sockwatch:	C:h.swis
o.sockwatch:	h.sockwatch
o.messages:	c.messages
o.messages:	h.generic
o.messages:	h.fortify
o.messages:	h.ufortify
o.messages:	C:h.kernel
o.messages:	C:h.swis
o.messages:	h.globals
o.messages:	h.nettle
o.messages:	h.messages
o.messages:	h.misc
o.termlist:	c.termlist
o.termlist:	h.generic
o.termlist:	h.fortify
o.termlist:	h.ufortify
o.termlist:	C:h.kernel
o.termlist:	C:h.swis
o.termlist:	h.globals
o.termlist:	h.nettle
o.termlist:	h.termlist
o.termlist:	h.messages
o.termlist:	h.nettle
o.termlist:	h.wimp
o.termlist:	h.nettle
o.url:	c.url
o.url:	C:h.swis
o.url:	C:h.kernel
o.url:	h.generic
o.url:	h.fortify
o.url:	h.ufortify
o.url:	C:h.kernel
o.url:	C:h.swis
o.url:	h.globals
o.url:	h.nettle
o.url:	h.wimp
o.url:	h.nettle
o.url:	h.url
o.wimputil:	c.wimputil
o.wimputil:	h.wimputil
o.wimputil:	h.generic
o.wimputil:	h.fortify
o.wimputil:	h.ufortify
o.wimputil:	C:h.kernel
o.wimputil:	C:h.swis
o.wimputil:	h.globals
o.wimputil:	h.nettle
o.wimputil:	h.nettle
o.wimputil:	h.messages
o.wimputil:	h.wimp
o.wimputil:	h.nettle
o.wimputil:	h.misc
o.choices:	c.choices
o.choices:	h.generic
o.choices:	h.fortify
o.choices:	h.ufortify
o.choices:	C:h.kernel
o.choices:	C:h.swis
o.choices:	h.globals
o.choices:	h.nettle
o.choices:	h.choices
o.choices:	h.messages
o.choices:	h.misc
o.choices:	h.wimp
o.choices:	h.nettle
o.choices:	h.wimputil
o.choices:	h.generic
o.choices:	h.globals
o.choices:	h.nettle
o.choices:	h.messages
o.choices:	h.templ
o.choices:	h.hotlist
o.choices:	h.lineedit
o.choices:	h.zapredraw
o.init:	c.init
o.init:	h.generic
o.init:	h.fortify
o.init:	h.ufortify
o.init:	C:h.kernel
o.init:	C:h.swis
o.init:	h.globals
o.init:	h.nettle
o.init:	h.choices
o.init:	h.hotlist
o.init:	h.init
o.init:	h.messages
o.init:	h.misc
o.init:	h.nettle
o.init:	h.quit
o.init:	h.sockwatch
o.init:	h.templ
o.init:	h.wimp
o.init:	h.nettle
o.init:	h.zapredraw
o.init:	h.wimputil
o.init:	h.generic
o.init:	h.globals
o.init:	h.nettle
o.init:	h.messages
o.hotlist:	c.hotlist
o.hotlist:	h.generic
o.hotlist:	h.fortify
o.hotlist:	h.ufortify
o.hotlist:	C:h.kernel
o.hotlist:	C:h.swis
o.hotlist:	h.globals
o.hotlist:	h.nettle
o.hotlist:	h.hotlist
o.hotlist:	h.misc
o.hotlist:	h.wimp
o.hotlist:	h.nettle
o.hotlist:	h.messages
o.hotlist:	h.templ
o.hotlist:	h.wimputil
o.hotlist:	h.generic
o.hotlist:	h.globals
o.hotlist:	h.nettle
o.hotlist:	h.messages
o.nettle:	c.nettle
o.nettle:	h.generic
o.nettle:	h.fortify
o.nettle:	h.ufortify
o.nettle:	C:h.kernel
o.nettle:	C:h.swis
o.nettle:	h.globals
o.nettle:	h.nettle
o.nettle:	h.lineedit
o.nettle:	h.main
o.nettle:	h.misc
o.nettle:	h.nettle
o.nettle:	h.process
o.nettle:	h.seln
o.nettle:	h.socket
o.nettle:	h.templ
o.nettle:	h.wimp
o.nettle:	h.nettle
o.nettle:	h.wimputil
o.nettle:	h.generic
o.nettle:	h.globals
o.nettle:	h.nettle
o.nettle:	h.messages
o.nettle:	h.zapredraw
o.nettle:	h.messages
o.wimp:	c.wimp
o.wimp:	h.generic
o.wimp:	h.fortify
o.wimp:	h.ufortify
o.wimp:	C:h.kernel
o.wimp:	C:h.swis
o.wimp:	h.globals
o.wimp:	h.nettle
o.wimp:	Netlib:sys.h.errno
o.wimp:	Netlib:sys.h.socket
o.wimp:	Netlib:sys.h.types
o.wimp:	Netlib:sys.h.select
o.wimp:	Internet:sys.h.time
o.wimp:	Netlib:sys.h.time
o.wimp:	h.choices
o.wimp:	h.hotlist
o.wimp:	h.keyboard
o.wimp:	h.lineedit
o.wimp:	h.messages
o.wimp:	h.main
o.wimp:	h.misc
o.wimp:	h.nettle
o.wimp:	h.process
o.wimp:	h.seln
o.wimp:	h.socket
o.wimp:	h.sockwatch
o.wimp:	h.termlist
o.wimp:	h.wimp
o.wimp:	h.nettle
o.wimp:	h.wimputil
o.wimp:	h.generic
o.wimp:	h.globals
o.wimp:	h.nettle
o.wimp:	h.messages
o.wimp:	h.zapredraw
o.wimp:	h.templ
o.wimp:	c.wimp
o.wimp:	h.generic
o.wimp:	h.fortify
o.wimp:	h.ufortify
o.wimp:	C:h.kernel
o.wimp:	C:h.swis
o.wimp:	h.globals
o.wimp:	h.nettle
o.wimp:	Netlib:sys.h.errno
o.wimp:	Netlib:sys.h.socket
o.wimp:	Netlib:sys.h.types
o.wimp:	Netlib:sys.h.select
o.wimp:	Internet:sys.h.time
o.wimp:	Netlib:sys.h.time
o.wimp:	h.choices
o.wimp:	h.hotlist
o.wimp:	h.keyboard
o.wimp:	h.lineedit
o.wimp:	h.messages
o.wimp:	h.main
o.wimp:	h.misc
o.wimp:	h.nettle
o.wimp:	h.process
o.wimp:	h.seln
o.wimp:	h.socket
o.wimp:	h.sockwatch
o.wimp:	h.termlist
o.wimp:	h.wimp
o.wimp:	h.nettle
o.wimp:	h.wimputil
o.wimp:	h.generic
o.wimp:	h.globals
o.wimp:	h.nettle
o.wimp:	h.messages
o.wimp:	h.zapredraw
o.wimp:	h.templ
o.wimp:	c.wimp
o.wimp:	h.generic
o.wimp:	h.fortify
o.wimp:	h.ufortify
o.wimp:	C:h.kernel
o.wimp:	C:h.swis
o.wimp:	h.globals
o.wimp:	h.nettle
o.wimp:	Netlib:sys.h.errno
o.wimp:	Netlib:sys.h.socket
o.wimp:	Netlib:sys.h.types
o.wimp:	Netlib:sys.h.select
o.wimp:	Internet:sys.h.time
o.wimp:	Netlib:sys.h.time
o.wimp:	h.choices
o.wimp:	h.hotlist
o.wimp:	h.keyboard
o.wimp:	h.lineedit
o.wimp:	h.messages
o.wimp:	h.main
o.wimp:	h.misc
o.wimp:	h.nettle
o.wimp:	h.process
o.wimp:	h.seln
o.wimp:	h.socket
o.wimp:	h.sockwatch
o.wimp:	h.termlist
o.wimp:	h.wimp
o.wimp:	h.nettle
o.wimp:	h.wimputil
o.wimp:	h.generic
o.wimp:	h.globals
o.wimp:	h.nettle
o.wimp:	h.messages
o.wimp:	h.zapredraw
o.wimp:	h.templ
